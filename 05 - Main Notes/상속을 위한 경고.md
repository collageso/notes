
2024-09-10 21:07

Tags: [[객체지향 프로그래밍]]

- 상속의 목적은 코드 재사용이 아니다. 상속은 타입 계층을 구조화하기 위해 사용해야 한다.

- 취약한 기반 클래스 문제 (Fragile Base Class Problem)
	- 상속을 사용한다면 피할 수 없는 객체지향 프로그래밍의 근본적인 취약성을 말한다. (파생 클래스와 기반 클래스 사이의 결합도가 초래하는 문제)
	- 부모 클래스의 세부 사항이 자식 클래스에도 노출이 되기 때문에, 캡슐화를 통한 변경의 통제가 어려워진다.
		- 상속받은 부모 클래스의 메서드가 자식 클래스의 내부 구조에 대한 규칙을 깨트릴 수 있다. *(불필요한 인터페이스 상속 문제)* -> 예시: Vector를 상속한 Stack
		- 자식 클래스의 메서드 안에서 super 참조를 이용해 부모 클래스의 메서드를 직접 호출할 경우 두 클래스는 강하게 결합된다. super 호출을 제거할 수 있는 방법을 찾아 결합도를 제거하라.

- 상속에 있어 인스턴스 변수 변경 및 추가에 대한 문제
	- 인스턴스 변수의 목록이 변하지 않는 상황에서 객체의 행동만 변경된다면 상속 계층에 속한 각 클래스를 독립적으로 진화시킬 수 있지만, 인스턴스 변수가 변경되거나 추가되는 경우는 다르다.
	- 메서드 구현에 대한 결합은 추상 메서드를 추가함으로써 어느 정도 완화할 수 있지만 인스턴스 변수에 대한 잠재적인 결합을 제거할 수 있는 방법은 없다.
	- 즉, 상속으로 인한 클래스 사이의 결합을 피할 수 있는 방법은 없다.


- 상속의 문제를 극복할 수 있는 방법
	- 차이점을 메서드로 추출하라 *(변하는 것으로부터 변하지 않는 것을 분리하라)*
	- 중복 코드를 추상적인 부모 클래스로 올려라 *(부모 클래스와 자식 클래스 모두 추상화에 의존하도록 하라)*
	- 즉, 공통적인 부분은 추상화된 영역에 두고 차이점을 각각의 클래스들이 구현하도록 해야한다는 것이다.

- 합성이 상속보다 좋다
	- 상속은 부모 클래스 안에 구현된 코드 자체를 재사용하지만 합성은 포함되는 객체의 퍼블릭 인터페이스를 재사용한다. 따라서 상속 대신 합성을 사용하면 구현에 대한 의존성을 인터페이스에 대한 의존성으로 변경할 수 있다.
	- 즉, 클래스 사이의 높은 결합도를 객체 사이의 낮은 결합도로 대체할 수 있다는 것이다.


# References

조영호. (2019). *오브젝트*. p 318-343.
